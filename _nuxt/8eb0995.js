(window.webpackJsonp=window.webpackJsonp||[]).push([[40,33,114,116,130],{335:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:r,data:data,children:n=[]}=e,{class:l,staticClass:f,style:style,staticStyle:c,attrs:d={},...m}=data;return o("svg",{class:[l,f],style:[style,c],attrs:Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d),...m},n.concat([o("path",{attrs:{d:"M17 5a1 1 0 10-2 0v10H5a1 1 0 100 2h10v10a1 1 0 102 0V17h10a1 1 0 100-2H17V5z",fill:"#000"}})]))}}},337:function(t,e,o){var content=o(352);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("451e96cc",content,!0,{sourceMap:!1})},343:function(t,e,o){"use strict";o.r(e);var r=o(350),n={components:{XButton:o.n(r).a},props:{width:{type:String,default:"75%"}},methods:{closeModal:function(){this.$emit("closeModal")}}},l=(o(351),o(9)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{appear:"",name:"modal"}},[o("div",{staticClass:"modal",on:{click:t.closeModal}},[o("div",{staticClass:"modal__content",style:"width:"+t.width+";",on:{click:function(t){t.stopPropagation()}}},[o("XButton",{staticClass:"svg",on:{click:function(e){return e.stopPropagation(),t.closeModal.apply(null,arguments)}}}),t._v(" "),t._t("default")],2)])])}),[],!1,null,"757e6ccc",null);e.default=component.exports},344:function(t,e,o){"use strict";e.a={data:function(){return{showModal:!1}},methods:{openModal:function(data){this[this.getModalSelector(data)]=!0},closeModal:function(data){this[this.getModalSelector(data)]=!1},getModalSelector:function(t){return"string"==typeof t?t:"showModal"}}}},349:function(t,e,o){var content=o(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("42e6ab70",content,!0,{sourceMap:!1})},350:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:r,data:data,children:n=[]}=e,{class:l,staticClass:f,style:style,staticStyle:c,attrs:d={},...m}=data;return o("svg",{class:[l,f],style:[style,c],attrs:Object.assign({width:"26",height:"26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d),...m},n.concat([o("path",{attrs:{d:"M6.262 5.113a.812.812 0 10-1.149 1.149L11.851 13l-6.738 6.738a.812.812 0 101.149 1.149L13 14.149l6.738 6.738a.812.812 0 101.149-1.149L14.149 13l6.738-6.738a.812.812 0 00-1.149-1.149L13 11.851 6.262 5.113z",fill:"gray"}})]))}}},351:function(t,e,o){"use strict";o(337)},352:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.modal[data-v-757e6ccc]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.6);z-index:100;display:flex;align-items:center;justify-content:center}.modal__content[data-v-757e6ccc]{height:auto;max-height:74.7rem;min-height:20rem;overflow-y:scroll;background-color:#fff;position:relative;border-radius:1rem}.modal__content .svg[data-v-757e6ccc]{position:absolute;top:2rem;right:2rem}.modal__content .svg[data-v-757e6ccc]:hover{cursor:pointer}.modal-enter-active[data-v-757e6ccc],.modal-leave-active[data-v-757e6ccc]{transition:opacity .3s}.modal-enter[data-v-757e6ccc],.modal-leave-to[data-v-757e6ccc]{opacity:0}',""]),t.exports=y},382:function(t,e,o){"use strict";o.r(e);var r=o(383),n={components:{Pencil:o.n(r).a},props:{theme:{type:String,default:"light"}}},l=(o(385),o(9)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"edit",class:t.theme},[o("Pencil",{staticClass:"svg",attrs:{viewBox:"0 0 32 32"}})],1)}),[],!1,null,"287123b4",null);e.default=component.exports},383:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:r,data:data,children:n=[]}=e,{class:l,staticClass:f,style:style,staticStyle:c,attrs:d={},...m}=data;return o("svg",{class:[l,f],style:[style,c],attrs:Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d),...m},n.concat([o("path",{attrs:{d:"M28 9.586L22.414 4a2 2 0 00-2.828 0l-3.293 3.293L4.586 19A1.987 1.987 0 004 20.414V26a2.002 2.002 0 002 2h5.586A1.988 1.988 0 0013 27.414l15-15a2.002 2.002 0 000-2.828zm-4 4L18.414 8 21 5.414 26.586 11 24 13.586z",fill:"#000"}})]))}}},384:function(t,e,o){"use strict";o.r(e);o(407);var r=o(9),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("h6",{staticClass:"wrapper__title"},[t._t("title")],2),t._v(" "),t._t("content")],2)}),[],!1,null,"660876f8",null);e.default=component.exports},385:function(t,e,o){"use strict";o(349)},386:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.edit[data-v-287123b4]{padding:0;background-color:#f0f0f0;width:2.6rem;height:2.6rem;border-radius:50%;display:flex;align-items:center;justify-content:center}.edit .svg[data-v-287123b4]{width:1.4rem;height:1.4rem}.edit.dark[data-v-287123b4]{background-color:rgba(26,26,26,.2)}.edit.dark .svg path[data-v-287123b4]{fill:#fff}',""]),t.exports=y},387:function(t,e,o){var content=o(406);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("e6ef0856",content,!0,{sourceMap:!1})},388:function(t,e,o){var content=o(408);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("a0613a32",content,!0,{sourceMap:!1})},393:function(t,e,o){"use strict";o.r(e);var r={props:{title:{type:String,default:""},cancelButton:{type:String,default:"Cancel"},acceptButton:{type:String,default:"Accept"}}},n=(o(405),o(9)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"confirm"},[o("p",[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"confirm__buttons"},[o("button",{on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelButton))]),t._v(" "),o("button",{on:{click:function(e){return t.$emit("accept")}}},[t._v(t._s(t.acceptButton))])])])}),[],!1,null,"3cce6620",null);e.default=component.exports},405:function(t,e,o){"use strict";o(387)},406:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.confirm[data-v-3cce6620]{background:#fff;border:.1rem solid #ccc;border-radius:.5rem;padding:2rem;width:70%;display:flex;align-items:center;justify-content:center;flex-direction:column}.confirm p[data-v-3cce6620]{font:normal 500 1.6rem "Manrope";color:#1a1a1a}.confirm__buttons[data-v-3cce6620]{display:flex;align-items:center;justify-content:space-around;width:100%;margin-top:2.5rem}.confirm__buttons button[data-v-3cce6620]{font:normal 500 1.4rem "Manrope";color:#1a1a1a;width:8.5rem;height:3.6rem;background-color:rgba(26,26,26,.2);border-radius:.5rem;display:flex;align-items:center;justify-content:center}.confirm__buttons button[data-v-3cce6620]:last-child{background-color:#e24343;color:#fff}',""]),t.exports=y},407:function(t,e,o){"use strict";o(388)},408:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.wrapper[data-v-660876f8]{width:100%;background-color:#fff;border-radius:1rem;border:.1rem solid #f0f0f0;padding:1.6rem 2rem 2rem;position:relative}.wrapper__title[data-v-660876f8]{margin:0;font:normal 700 1.2rem "Manrope";color:grey;line-height:1.6rem;letter-spacing:.05em;text-transform:uppercase}',""]),t.exports=y},430:function(t,e,o){var content=o(495);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("405326fd",content,!0,{sourceMap:!1})},431:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:r,data:data,children:n=[]}=e,{class:l,staticClass:f,style:style,staticStyle:c,attrs:d={},...m}=data;return o("svg",{class:[l,f],style:[style,c],attrs:Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d),...m},n.concat([o("path",{attrs:{d:"M29.04 14.293L11.042 3.295A2 2 0 008 5v21.998a2 2 0 003.043 1.706l17.996-10.998a2 2 0 000-3.414z",fill:"#000"}})]))}}},456:function(t,e,o){var content=o(534);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("2fc5fa1e",content,!0,{sourceMap:!1})},494:function(t,e,o){"use strict";o(430)},495:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.loading-page[data-v-44800f9a]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:#fff;z-index:99}.progress[data-v-44800f9a]{width:50%;text-align:center}.progress p[data-v-44800f9a]{font:normal 700 3.6rem "Manrope";color:#1a1a1a;line-height:4.6rem;margin-bottom:1rem}',""]),t.exports=y},512:function(t,e,o){"use strict";o.r(e);o(355);var r=o(429),n={components:{ProgressBar:o.n(r).a},props:{loading:{type:Boolean,default:!1},percent:{type:Number,default:0}}},l=(o(494),o(9)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.loading?o("div",{staticClass:"loading-page"},[o("div",{staticClass:"progress"},[o("p",[t._v(t._s(t.percent)+"%")]),t._v(" "),o("ProgressBar",{staticClass:"progress-bar",attrs:{size:"10","bg-color":"#F0F0F0","bar-color":"#E24343","bar-border-radius":2,val:t.percent}})],1)]):t._e()}),[],!1,null,"44800f9a",null);e.default=component.exports},533:function(t,e,o){"use strict";o(456)},534:function(t,e,o){var r=o(28),n=o(38),l=o(39),f=o(40),c=o(41),d=o(42),m=o(43),v=o(44),h=o(45),w=o(46),_=o(47),y=r(!1),M=n(l),x=n(f),P=n(c),C=n(d),V=n(m),k=n(v),j=n(h),O=n(w),D=n(_);y.push([t.i,'@font-face{font-family:"Manrope";src:url('+M+') format("woff2"),url('+x+') format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+P+') format("woff2"),url('+C+') format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+V+') format("woff2"),url('+k+') format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+j+') format("woff2"),url('+O+') format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:"Manrope";src:url('+D+') format("woff2"),url('+D+') format("woff");font-weight:800;font-style:normal;font-display:swap}.intro[data-v-61edb338]{height:100%;max-width:36.6rem;margin-left:2rem}.intro__edit[data-v-61edb338]{position:absolute;right:1rem;top:1rem}.intro__preview[data-v-61edb338]{display:flex;align-items:center;justify-content:center;overflow:hidden;width:100%;height:83%;border-radius:.8rem;position:relative;margin-top:2rem}.intro__preview img[data-v-61edb338]{width:100%;height:auto}.intro__preview[data-v-61edb338]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:#1a1a1a;opacity:.2}.intro__preview .play[data-v-61edb338]{position:absolute;background-color:rgba(26,26,26,.2);width:4.4rem;height:4.4rem;border-radius:100%;display:flex;align-items:center;justify-content:center;cursor:pointer}.intro__preview .play .svg[data-v-61edb338]{width:1.8rem;height:1.8rem}.intro__preview .play .svg path[data-v-61edb338]{fill:#fff}.empty__container[data-v-61edb338]{margin-top:1rem;border:.1rem dashed #ccc;border-radius:.8rem;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 4.7rem;height:87%}.empty__content[data-v-61edb338]{font:normal 500 1.4rem "Manrope";color:#1a1a1a;line-height:2.2rem;margin-bottom:.5rem}.empty__button[data-v-61edb338]{display:flex;align-items:center;text-transform:uppercase;font:normal 700 1.2rem "Manrope";color:#e24343;line-height:1.6rem;letter-spacing:.05em}.empty__button .svg[data-v-61edb338]{width:1.2rem;height:1.2rem;margin-right:.7rem}.empty__button .svg path[data-v-61edb338]{fill:#e24343}.modal__wrapper[data-v-61edb338]{width:56rem;margin:auto;display:flex;flex-direction:column}.modal__wrapper hr[data-v-61edb338]{width:100%;height:.1rem;background-color:#f0f0f0;margin-top:3rem}.modal__title[data-v-61edb338]{font:normal 700 2rem "Manrope";color:#1a1a1a;line-height:2.6rem;text-align:center;margin:4rem 0 0}.modal__content[data-v-61edb338]{margin-top:2rem}.modal__player[data-v-61edb338]{border-radius:.8rem}.modal__no-video[data-v-61edb338]{font:normal 500 1.4rem "Manrope";color:#1a1a1a;line-height:2.2rem;text-align:center}.modal__annotation[data-v-61edb338]{margin-top:.5rem;font:normal normal 1.2rem "Manrope";color:grey;line-height:1.6rem}.modal__toast[data-v-61edb338]{font:normal 500 1.4rem "Manrope";color:grey;line-height:2.2rem}.modal__buttons[data-v-61edb338]{margin-top:2rem;display:flex;align-items:center;justify-content:flex-start;width:100%}.modal__buttons .replace[data-v-61edb338]{font:normal 700 1.4rem "Manrope";color:#1a1a1a;background-color:#f0f0f0;border-radius:.5rem;padding:1.4rem 1.5rem}.modal__buttons .remove[data-v-61edb338]{font:normal 700 1.4rem "Manrope";color:grey;margin-left:1.5rem}.modal__buttons input[data-v-61edb338]{display:none}.modal__buttons label[data-v-61edb338]{cursor:pointer}.modal__save[data-v-61edb338]{width:14.1rem;height:4.8rem;background-color:#e24343;border-radius:.5rem;font:normal 700 1.4rem "Manrope";color:#fff;align-self:center;margin-top:2.4rem;margin-bottom:6rem}.modal__loader[data-v-61edb338]{border-radius:1rem}.modal__confirm[data-v-61edb338]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.error-message[data-v-61edb338]{margin-top:1rem}.error[data-v-61edb338],.error-message[data-v-61edb338]{font:normal normal 1.2rem "Manrope";color:#e24343;line-height:1.6rem}',""]),t.exports=y},663:function(t,e,o){"use strict";o.r(e);o(48),o(23),o(49),o(59),o(33),o(60);var r=o(1),n=o(16),l=(o(14),o(51),o(8),o(20),o(25),o(237),o(384)),f=o(344),c=o(343),d=o(512),m=o(382),v=o(50),h=o(346),w=o(393),_=o(335),y=o.n(_),M=o(431),x=o.n(M);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var V={components:{CardWrapper:l.default,ProgressLoader:d.default,Modal:c.default,EditButton:m.default,Confirm:w.default,Plus:y.a,Play:x.a},props:{forOthers:{type:Boolean,default:!1}},mixins:[f.a],computed:C(C({},Object(v.c)({user:"user/getUser",getRole:"auth/getRole",userId:"auth/getUserId",getToken:"auth/getToken"})),{},{getVideo:function(){return this.videoPreview||this.user.video_intro||""},getSavedTime:function(){var t=Math.floor(this.formData.video_preview/60),e=Math.floor(this.formData.video_preview-60*t);return"Saved preview at  ".concat(t,":").concat(e)},getSendingData:function(){var t=new FormData;return t.append("file",this.formData.video_intro),t.append("preview_time",this.formData.video_preview),t},getVideoError:function(){return!(this.$v.formData.video_intro.required||!this.showErrors)&&"Video is required"},getPreviewError:function(){return!(this.$v.formData.video_preview.required||!this.showErrors)&&"Choose video preview"}}),data:function(){return{videoRequirements:{},videoPreview:"",formData:{video_intro:null,video_preview:null},timeImage:null,showToastPreview:!1,confirmEdit:!1,changedData:!1,loader:!1,showPlayBtn:!0,showErrors:!1,videoKey:"videoKey",smVideoKey:"smVideoKey",loadingPercent:0}},watch:{formData:{handler:function(t){this.changedData=!0},deep:!0},showModal:function(t){t?(this.confirmEdit=!1,this.changedData=!1,this.showToastPreview=!1,this.showErrors=!1,this.timeImage=null,this.videoPreview=!1,this.videoKey+=1):this.formData={video_intro:null,video_preview:null}}},mounted:function(){var t=this,e=!0;this.getVideoRequirements(),this.$echo.connector.pusher.config.auth.headers.Authorization="Bearer ".concat(this.getToken),this.$echo.private("video-convert-for.".concat(this.userId)).listen("VideoConvertProcessEvent",(function(o){var r=o.percent;t.loadingPercent=r,r>98&&e?(t.afterLoad(),e=!1):r<=98&&!e&&(e=!0)}))},destroyed:function(){this.$echo.private("video-convert-for.".concat(this.userId)).stopListening("VideoConvertProcessEvent")},methods:C(C({},Object(v.b)({getUserProfile:"user/getUserProfile",getVideoRequirementsRequest:"files/getVideoRequirements",deleteVideoRequest:"user/deleteVideo",addVideo:"user/addVideo"})),{},{updateTimeLine:function(t){var e=t.target;this.timeImage=e.currentTime},close:function(){this.changedData?this.confirmEdit=!0:this.closeModal()},addTimeForPreview:function(){this.formData.video_preview=Math.floor(this.timeImage),this.showToastPreview=!0},removeVideo:function(){this.videoPreview?(this.videoPreview="",this.formData={video_intro:null,video_preview:null},this.videoKey+=1):this.deleteVideo()},handleVideoUpload:function(){var t=this.$refs.video.files[0];t.size>this.videoRequirements.video_max_size?this.$toast.error("Your file is too big! Max size of file is ".concat(this.videoRequirements.video_max_size/1024/1024,"Mb")):(this.formData.video_intro=t,this.videoPreview=URL.createObjectURL(t),this.videoKey+=1)},isValid:function(){var t=!0;return this.$v.formData.$touch(),this.$v.formData.$invalid&&(this.showErrors=!0,t=!1),t},getVideoRequirements:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getVideoRequirementsRequest();case 3:o=e.sent,t.videoRequirements=o,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteVideo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loader=!0,e.prev=1,e.next=4,t.deleteVideoRequest();case 4:return e.next=6,t.getUserProfile();case 6:t.smVideoKey+=1,t.closeModal(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$toast.error("Something went wrong!");case 13:return e.prev=13,t.loader=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()},sendVideo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isValid()){e.next=2;break}return e.abrupt("return");case 2:return t.loader=!0,e.prev=3,e.next=6,t.addVideo({data:t.getSendingData});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),t.loader=!1,t.$toast.error("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))()},afterLoad:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserProfile();case 2:t.smVideoKey+=1,t.closeModal(),t.loader=!1,t.$toast.success("Video has been uploaded"),t.loadingPercent=0;case 7:case"end":return e.stop()}}),e)})))()}}),validations:{formData:{video_intro:{required:h.required},video_preview:{required:Object(h.requiredIf)((function(data){return null!==data.video_preview}))}}}},k=(o(533),o(9)),component=Object(k.a)(V,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CardWrapper",{staticClass:"intro",scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Video Introduction")]},proxy:!0},{key:"content",fn:function(){return[t.user.video_intro?[o("div",{staticClass:"intro__preview"},[o("video",{key:t.smVideoKey,ref:"intro-video",attrs:{width:"100%",poster:t.user.video_preview,controls:""},on:{play:function(e){t.showPlayBtn=!1},pause:function(e){t.showPlayBtn=!0}}},[o("source",{attrs:{src:t.user.video_intro,type:"video/mp4"}})]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showPlayBtn,expression:"showPlayBtn"}],staticClass:"play",on:{click:function(e){return t.$refs["intro-video"].play()}}},[o("Play",{staticClass:"svg",attrs:{viewBox:"0 0 32 32"}})],1)]),t._v(" "),t.forOthers?t._e():o("EditButton",{staticClass:"intro__edit",nativeOn:{click:function(e){return t.openModal.apply(null,arguments)}}})]:[o("div",{staticClass:"empty__container"},[o("p",{staticClass:"empty__content"},[t._v("Short video introducing yourself")]),t._v(" "),o("button",{staticClass:"empty__button",on:{click:t.openModal}},[o("Plus",{staticClass:"svg",attrs:{viewBox:"0 0 32 32"}}),t._v("\n          Add Info\n        ")],1)])],t._v(" "),o("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal",attrs:{width:"75.4rem"},on:{closeModal:t.close}},[o("div",{staticClass:"modal__wrapper"},[o("h5",{staticClass:"modal__title"},[t._v("Video Introduction")]),t._v(" "),o("div",{staticClass:"modal__content"},[t.getVideo?o("video",{key:t.videoKey,staticClass:"modal__player",attrs:{width:"100%",controls:"",poster:t.videoPreview?"":t.user.video_preview},on:{timeupdate:t.updateTimeLine}},[o("source",{attrs:{src:t.getVideo,type:"video/mp4"}})]):o("p",{staticClass:"modal__no-video"},[t._v("No added video")]),t._v(" "),t.getVideoError?o("p",{staticClass:"error-message"},[t._v("\n            "+t._s(t.getVideoError)+"\n          ")]):t._e(),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.showToastPreview,expression:"showToastPreview"}],staticClass:"modal__toast"},[t._v("\n            "+t._s(t.getSavedTime)+"\n          ")]),t._v(" "),o("div",{staticClass:"modal__buttons"},[o("input",{ref:"video",attrs:{id:"video",type:"file",accept:t.videoRequirements.video_formats},on:{change:t.handleVideoUpload}}),t._v(" "),o("label",{staticClass:"replace",attrs:{for:"video"}},[t._v("\n              "+t._s(t.getVideo?"Replace Video":"Add Video")+"\n            ")]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:t.getVideo,expression:"getVideo"}],staticClass:"remove",on:{click:t.removeVideo}},[t._v("\n              "+t._s(t.videoPreview?"Discard":"Remove")+"\n            ")]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:t.formData.video_intro,expression:"formData.video_intro"}],staticClass:"remove",class:{error:t.getPreviewError},on:{click:t.addTimeForPreview}},[t._v("\n              Create Preview\n            ")])]),t._v(" "),t.getPreviewError?o("p",{staticClass:"error-message"},[t._v("\n            "+t._s(t.getPreviewError)+"\n          ")]):t._e(),t._v(" "),o("div",{staticClass:"modal__annotation"},[t._v("\n            *"+t._s(t.videoRequirements.video_formats)+"\n          ")]),t._v(" "),o("div",{staticClass:"modal__annotation"},[t._v("\n            *"+t._s(t.videoRequirements.video_max_size/1024/1024)+"Mb\n          ")])]),t._v(" "),o("hr",{staticClass:"hr"}),t._v(" "),o("button",{staticClass:"modal__save",on:{click:t.sendVideo}},[t._v("Save Changes")])]),t._v(" "),t.confirmEdit?o("Confirm",{staticClass:"modal__confirm",attrs:{title:"Are you sure want to discard the changes you made?",acceptButton:"Discard"},on:{cancel:function(e){t.confirmEdit=!1},accept:t.closeModal}}):t._e(),t._v(" "),o("ProgressLoader",{attrs:{loading:t.loader,percent:t.loadingPercent}})],1)]},proxy:!0}])})}),[],!1,null,"61edb338",null);e.default=component.exports}}]);